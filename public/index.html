<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>liamland2 (L2)</title>
  <meta name="description" content="liamland2 — anonymous, always-on polls" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ["Inter", "ui-sans-serif", "system-ui", "-apple-system", "Segoe UI", "Roboto", "Helvetica Neue", "Arial", "Noto Sans"] },
          keyframes: {
            floaty: { '0%,100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-8px)' } },
            pop: { '0%': { transform: 'scale(.95)', opacity: .7 }, '100%': { transform: 'scale(1)', opacity: 1 } }
          },
          animation: {
            floaty: 'floaty 6s ease-in-out infinite',
            pop: 'pop .25s ease-out'
          }
        }
      }
    }
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script type="module" crossorigin src="https://esm.sh/@supabase/supabase-js@2"></script>
  <style>
    .glass { backdrop-filter: blur(10px); background: rgba(255,255,255,0.65) }
    .card-shadow { box-shadow: 0 12px 30px rgba(2,6,23,0.08) }
  </style>
</head>
<body class="min-h-screen text-slate-900 relative overflow-x-hidden bg-gradient-to-br from-yellow-50 via-pink-50 to-indigo-50">
  <!-- Floating emojis background -->
  <div class="absolute inset-0 -z-10 overflow-hidden">
    <div class="absolute left-10 top-20 text-5xl animate-floaty">🎉</div>
    <div class="absolute right-12 top-32 text-6xl animate-floaty" style="animation-delay:1s">😎</div>
    <div class="absolute left-1/2 bottom-10 text-5xl animate-floaty" style="animation-delay:2s">🔥</div>
    <div class="absolute right-1/4 bottom-20 text-4xl animate-floaty" style="animation-delay:1.5s">⭐️</div>
  </div>

  <!-- Header -->
  <header class="sticky top-0 z-20 border-b border-slate-200/70 bg-white/80 glass">
    <div class="max-w-5xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-2xl bg-gradient-to-r from-yellow-400 via-pink-500 to-purple-500 text-white grid place-items-center font-extrabold shadow">🎲</div>
        <div>
          <h1 class="text-lg font-semibold leading-tight">liamland2 <span class="text-slate-400 font-normal">/ L2</span></h1>
          <p class="text-xs text-slate-500 -mt-0.5">Anonymous & Interesting Polls</p>
        </div>
      </div>
      <div class="flex items-center gap-3 text-sm">
        <span id="sessionLabel" class="px-2 py-1 rounded-full bg-slate-100 border border-slate-200 text-slate-700"></span>
        <a href="#" id="resetSession" class="text-indigo-600 hover:text-indigo-800 underline decoration-wavy">New anonymous account ✨</a>
      </div>
    </div>
  </header>

  <!-- Main -->
  <main class="max-w-5xl mx-auto px-4 py-6 space-y-6">
    <!-- Create Poll Card -->
    <section class="card-shadow bg-white rounded-2xl border border-slate-200 p-5 animate-pop">
      <div class="flex items-start gap-4">
        <div class="grow">
          <h2 class="text-base font-semibold flex items-center gap-2">Create a poll <span>📝</span></h2>
          <p class="text-sm text-slate-500">Keep it school‑appropriate. Options are comma‑separated (e.g., "Math, Science, History").</p>
          <form id="createPollForm" class="mt-4 space-y-3">
            <label class="block">
              <span class="text-sm font-medium text-slate-700">Question ❓</span>
              <textarea id="question" required rows="2" class="mt-1 w-full resize-y rounded-xl border-slate-300 focus:border-pink-500 focus:ring-pink-500 placeholder:text-slate-400" placeholder="Who’s most likely to…? Or ask something fun like ‘Favorite subject this week?’"></textarea>
            </label>
            <label class="block">
              <span class="text-sm font-medium text-slate-700">Options 🎯</span>
              <input id="options" required type="text" class="mt-1 w-full rounded-xl border-slate-300 focus:border-indigo-500 focus:ring-indigo-500 placeholder:text-slate-400" placeholder="Type options separated by commas — e.g., Cats, Dogs, Turtles" />
            </label>
            <div class="flex items-center justify-between">
              <div class="text-xs text-slate-500">Auto‑moderation is on 🚫. Inappropriate polls are blocked.</div>
              <button type="submit" class="inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-pink-500 to-indigo-600 text-white px-4 py-2 font-medium hover:opacity-90 active:scale-[.97]">
                🚀 Publish
              </button>
            </div>
          </form>
        </div>
      </div>
    </section>

    <!-- Filters -->
    <section class="flex items-center justify-between">
      <div class="flex items-center gap-2 text-sm bg-slate-100 p-1 rounded-xl border border-slate-200">
        <button data-filter="latest" class="filterBtn px-3 py-1.5 rounded-lg bg-white border border-slate-200">⏰ Latest</button>
        <button data-filter="top" class="filterBtn px-3 py-1.5 rounded-lg text-slate-700">🏆 Top</button>
        <button data-filter="mine" class="filterBtn px-3 py-1.5 rounded-lg text-slate-700">🙋 My polls</button>
      </div>
      <div class="text-xs text-slate-500">⚡ Live updates on new votes</div>
    </section>

    <!-- Poll List -->
    <section id="pollList" class="grid gap-4"></section>
  </main>

  <!-- Footer -->
  <footer class="max-w-5xl mx-auto px-4 py-10 text-center text-xs text-slate-500">
    <p>liamland2 — built by liam brill• <a href="#" id="howLink" class="underline decoration-dashed">How it works❔</a></p>
  </footer>
</body>
</html>
